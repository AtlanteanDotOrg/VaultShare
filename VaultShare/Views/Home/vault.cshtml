<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VaultShare - @ViewData["SelectedVault"].Name</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #F8C471; 
        }
        .dashboard-card {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            height: 300px;
        }
        .card-title {
            font-weight: bold;
        }
        .btn-purple {
            background-color: #6C3483;
            color: white;
        }
        .btn-purple:hover {
            background-color: #5A2D71;
        }
        .transactions-section, .contributions-section {
            background-color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }
        .transaction-row, .contribution-row {
            display: flex;
            align-items: center;
            justify-content: space-between; 
            padding: 10px 0;
            border-bottom: 1px solid #E0E0E0;
        }
        .transaction-row:last-child, .contribution-row:last-child {
            border-bottom: none;
        }
        .avatar {
            border-radius: 50%;
            width: 50px;
            height: 50px;
            margin-right: 10px; 
            object-fit: cover;
        }
        .approve-deny-buttons {
            display: flex;
            gap: 5px;
            position: relative;
        }
        .amount-positive {
            color: #27AE60; 
        }
        .amount-negative {
            color: #E74C3C; 
        }
        .vault-members img {
            margin: 5px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
        }
        .friend-list {
            display: grid;
            grid-template-columns: 1fr 1fr; 
            list-style-type: none;
            gap: 5px;
        }
        .friend-item {
            display: flex;
            align-items: center;
        }
        .profile-pic img {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            object-fit: cover;
        }
        .profile-pic2 img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
        }
        .container-boxes {
            position: relative;
            left: 315px;
        }
        .view-more-btn1, .view-more-btn2 {
            width: 100%; 
            padding: 10px; 
            font-size: 12px; 
            border-radius: 15px;
            background-color: #5B2C6F;
            color: white;
            border-color: #5B2C6F;
        }
        .view-more-btn1:hover, .view-more-btn2:hover {
            background-color: #452c63;
            border-color: #452c63;
        }
    </style>
</head>
<body>
    <div class="container-boxes">
        <h1>@vault.Name</h1> <!-- Use the casted `vault` object -->
        <div class="row text-center mt-4">
            <!-- Contributions -->
            <div class="col-md-4">
                <div class="dashboard-card">
                    <h5 class="card-title">Contributions</h5>
                    @foreach (var contribution in vault.Contributions)
                    {
                        <div class="contribution-row">
                            <div class="profile-pic ml-2">
                                <img src="@contribution.UserProfileImageUrl" alt="Profile Picture" class="rounded-circle" height="30">
                            </div>
                            <span>@contribution.Description</span>
                            <span class="amount-positive">+$@contribution.Amount</span>
                        </div>
                    }
                    <button class="btn btn-primary view-more-btn1">View More</button>
                </div>
            </div>

            <!-- Vault Balance -->
            <div class="col-md-4">
                <div class="dashboard-card">
                    <h5 class="card-title">Vault Balance</h5>
                    <h1>$@vault.Balance</h1>
                </div>
            </div>

            <!-- Vault Members -->
            <div class="col-md-4">
                <div class="dashboard-card">
                    <h5 class="card-title">Vault Members</h5>
                    <ul class="friend-list">
                        @foreach (var member in vault.Members)
                        {
                            <li class="friend-item d-flex align-items-center">
                                <div class="profile-pic2 ml-2">
                                    <img src="@member.ProfileImageUrl" alt="Profile Picture" class="rounded-circle" height="30">
                                </div>
                                <span>@member.Name</span>
                            </li>
                        }
                    </ul>
                    <button class="btn btn-primary view-more-btn2">View More</button>
                </div>
            </div>
        </div>

        <!-- Recent Transactions Section -->
        <div class="transactions-section mt-4">
            <h5 class="card-title">Recent Transactions</h5>
            @foreach (var transaction in vault.Transactions)
            {
                <div class="transaction-row">
                    <img src="@transaction.UserProfileImageUrl" alt="User" class="avatar">
                    <span>@transaction.Description</span>
                    <span class="@(transaction.Amount > 0 ? "amount-positive" : "amount-negative")">
                        @((transaction.Amount > 0 ? "+" : "") + "$" + transaction.Amount)
                    </span>
                    <div class="approve-deny-buttons">
                        <button class="btn btn-success btn-sm">Approve</button>
                        <button class="btn btn-danger btn-sm">Deny</button>
                    </div>
                </div>
            }
        </div>
    </div>
</body>
</html>
